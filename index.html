
<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>AR</title>
         <!-- AR.js  -->
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
         <!-- aframe-gif-shader (讓 A-Frame 可以播放 GIF) -->
        <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
        <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-detector.js"></script>
        <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-handler.js"></script>

        <style>
          #debugStatus {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.5);
            color: #fff;
            padding: 8px;
            font-family: sans-serif;
            z-index: 1000;
          }
        </style>
    </head>

<body style="margin: 0; overflow: hidden;">
    <!-- Debug 顯示區 -->
    <div id="debugStatus">Marker Status: Not Found</div>

    <a-scene  
            vr-mode-ui="enabled: false;"
            loading-screen="enabled: false;"
            arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: true;"
            id="scene"
            embedded
            gesture-detector
        >
        
        <!-- 放在 a-assets 裡面先載入 GIF -->
        <a-assets>
            <img id="GIF1" src="assets/GIF1.gif">
           
        </a-assets>

        <a-marker
           id="marker1"
           type="pattern"
           preset="custom"
           url="assets/pattern-marker.patt"
           raycaster="objects: .clickable"
           emitevents="true"
           cursor="fuse: false; rayOrigin: mouse;"
        
       >
        <!-- 將 GIF shader 套用在 plane 或 box 上 -->
         <!-- 將 GIF shader 套用在 plane 或 box 上 -->
        <a-plane 
         material="shader: gif; src: #GIF1"
         rotation="-90 0 0"
         height="1"
         width="1"
         gesture-handler
         >
       </a-plane>


        </a-marker>
   

       <a-entity camera></a-entity>
    </a-scene>

    <script>
      // 取得 marker 元素和 debug div
      const marker = document.querySelector("#marker1");
      const debugStatus = document.getElementById("debugStatus");

      // 當 marker 被偵測到時觸發 markerFound 事件
      marker.addEventListener("markerFound", () => {
        console.log("Marker Found");
        debugStatus.textContent = "Marker Status: Found";
      });

      // 當 marker 消失時觸發 markerLost 事件
      marker.addEventListener("markerLost", () => {
        console.log("Marker Lost");
        debugStatus.textContent = "Marker Status: Not Found";
      });
    </script>

</body>
</html>




